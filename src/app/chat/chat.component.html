<div class="chat-container">
  <div class="chat-header">
    <h2>聊天室</h2>
    <div class="online-status">
      <span class="status-dot"></span>
      線上
    </div>
  </div>

  <div class="messages-container" #messagesContainer>
    <div
      *ngFor="let message of messages"
      class="message-wrapper"
      [class.own-message]="message.isOwn"
    >
      <div class="message">
        <div class="message-info">
          <span class="sender">{{ message.sender }}</span>
          <span class="timestamp">{{ message.timestamp | date:'HH:mm' }}</span>
        </div>
        <div class="message-text">{{ message.text }}</div>
      </div>
    </div>
  </div>

  <div class="input-container">
    <div class="input-wrapper">
      <textarea
        [(ngModel)]="newMessage"
        (keydown)="onKeyPress($event)"
        placeholder="輸入訊息..."
        rows="1"
        class="message-input"
      ></textarea>
      <button
        (click)="sendMessage()"
        [disabled]="!newMessage.trim()"
        class="send-button"
      >
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor">
          <path d="M22 2l-7 20-4-9-9-4z"/>
          <path d="M22 2L11 13"/>
        </svg>
      </button>
    </div>
  </div>
</div>
